<footer id="footer"><!--Footer-->
	<div class="footer-top">
		
		 <div class="container">
			<div class="row">
				<div class="col-sm-2">
					<div class="companyinfo">
						<!-- <h2><span>e</span>-shopper</h2> -->
						 <h2><span>Noir Essence</span></h2>
						 <p><strong>Tinh t·∫ø trong t·ª´ng n·ªët h∆∞∆°ng, gi√∫p b·∫°n th·ªÉ hi·ªán phong c√°ch v√† c√° t√≠nh qua nh·ªØng m√πi h∆∞∆°ng ƒë·ªôc ƒë√°o.</strong></p>

					</div>
				</div>
				<div class="col-sm-7">
					<div class="col-sm-3">
						<div class="video-gallery text-center">
							<a href="#">
								<div class="iframe-img">
									<img src="frontend/image/footer1.png" alt="" />
								</div>
								 <!-- <div class="overlay-icon">
									<i class="fa fa-play-circle-o"></i>
								</div> -->
							</a>
							<p>Nh√≥m h∆∞∆°ng hoa c·ªè</p>
							<!-- <h2>24 DEC 2014</h2> -->
						</div>
					</div>

					<div class="col-sm-3">
						<div class="video-gallery text-center">
							<a href="#">
								<div class="iframe-img">
									<img src="frontend/image/footer2.png" alt="" />
								</div>
								<!-- <div class="overlay-icon">
									<i class="fa fa-play-circle-o"></i>
								</div> -->
							</a>
							<p>Nh√≥m h∆∞∆°ng th·∫£o m·ªôc</p>
							<!-- <h2>24 DEC 2014</h2> -->
						</div>
					</div>

					<div class="col-sm-3">
						<div class="video-gallery text-center">
							<a href="#">
								<div class="iframe-img">
									<img src="frontend/image/footer3.png" alt="" />
								</div>
								<!-- <div class="overlay-icon">
									<i class="fa fa-play-circle-o"></i>
								</div> -->
							</a>
							<p>Nh√≥m h∆∞∆°ng cam chanh</p>
							<!-- <h2>24 DEC 2014</h2> -->
						</div>
					</div>

					<div class="col-sm-3">
						<div class="video-gallery text-center">
							<a href="#">
								<div class="iframe-img">
									<img src="frontend/image/footer4.png" alt="" />
								</div>
								<!-- <div class="overlay-icon">
									<i class="fa fa-play-circle-o"></i>
								</div> -->
							</a>
							<p>Nh√≥m h∆∞∆°ng s√≠p</p>
							<!-- <h2>24 DEC 2014</h2> -->
						</div>
					</div>
				</div>
				<!-- <div class="col-sm-3">
					<div class="address">
						<img src="images/home/map.png" alt="" />
						<p>505 S Atlantic Ave Virginia Beach, VA(Virginia)</p>
					</div>
				</div> -->
			</div>
		</div> 
		
	</div>

	<div class="footer-widget">
		<div class="container">
			<div class="row">
			<div class="col-sm-3">
    <div class="single-widget">
        <h2>D·ªãch v·ª•</h2>
        <ul class="nav nav-pills nav-stacked">
            <li><a href="#">Tr·ª£ gi√∫p tr·ª±c tuy·∫øn</a></li>
            <li><a href="#">Li√™n h·ªá v·ªõi ch√∫ng t√¥i</a></li>
            <li><a href="#">T√¨nh tr·∫°ng ƒë∆°n h√†ng</a></li>
            <li><a href="#">Thay ƒë·ªïi ƒë·ªãa ƒëi·ªÉm</a></li>
            <li><a href="#">C√¢u h·ªèi th∆∞·ªùng g·∫∑p</a></li>
        </ul>
    </div>
</div>
<div class="col-sm-3">
    <div class="single-widget">
        <h2>S·∫£n ph·∫©m</h2>
        <ul class="nav nav-pills nav-stacked">
            <li><a href="#">CHANEL</a></li>
            <li><a href="#">GUCCI</a></li>
            <li><a href="#">DANDG</a></li>
            <li><a href="#">DIOR</a></li>
           
        </ul>
    </div>
</div>
<div class="col-sm-3">
    <div class="single-widget">
        <h2>Ch√≠nh s√°ch</h2>
        <ul class="nav nav-pills nav-stacked">
            <li><a href="#">ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng</a></li>
            <li><a href="#">Ch√≠nh s√°ch b·∫£o m·∫≠t</a></li>
            <li><a href="#">Ch√≠nh s√°ch ho√†n tr·∫£</a></li>
            <li><a href="#">H·ªá th·ªëng thanh to√°n</a></li>
            
        </ul>
    </div>
</div>
<div class="col-sm-3">
    <div class="single-widget">
        <h2>V·ªÅ Noir Essence</h2>
        <ul class="nav nav-pills nav-stacked">
			<li><a href="#">Th√¥ng tin</a></li>
            <li><a href="#">C∆° h·ªôi ngh·ªÅ nghi·ªáp t·∫°i c·ª≠a h√†ng</a></li>
            <li><a href="#">ƒê·ªãa ch·ªâ c·ª≠a h√†ng</a></li>
           
            <li><a href="#">Th√¥ng tin b·∫£n quy·ªÅn v√† ch√≠nh s√°ch</a></li>
            
        </ul>
    </div>
</div>

<!-- ... -->
<!-- Live chat Tawk.to -->
<script type="text/javascript">
var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
(function(){
var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
s1.async=true;
s1.src='https://embed.tawk.to/6887ce347058a019273793f5/1j197qv8g';
s1.charset='UTF-8';
s1.setAttribute('crossorigin','*');
s0.parentNode.insertBefore(s1,s0);
})();
</script>


				<!-- <div class="col-sm-3 col-sm-offset-1">
					<div class="single-widget">
						<h2>About Shopper</h2>
						<form action="#" class="searchform">
							<input type="text" placeholder="Your email address" />
							<button type="submit" class="btn btn-default"><i
									class="fa fa-arrow-circle-o-right"></i></button>
							<p>Get the most recent updates from <br />our site and be updated your self...</p>
						</form>
					</div>
				</div> -->

			</div>
		</div>
	</div>

	<div class="footer-bottom">
		<!-- <div class="container">
			<div class="row">
				<p class="pull-left">Copyright ¬© 2013 E-SHOPPER Inc. All rights reserved.</p>
				<p class="pull-right">Designed by <span><a target="_blank"
							href="http://www.themeum.com">Themeum</a></span></p>
			</div>
		</div> -->
	</div>

	<!-- chatbox -->
<style>
#chat-box div {
    margin-bottom: 10px;
    padding: 8px 12px;
    border-radius: 15px;
    max-width: 75%;
    clear: both;
    display: inline-block;
}

.bot-message {
    background-color: #e6e6e6;
    text-align: left;
    float: left;
    color: #000;
}

.user-message {
    background-color: #0084ff;
    color: #fff;
    text-align: left;
    float: right;
}

.sender {
    font-weight: bold;
    display: block;
    margin-bottom: 4px;
}
/* goi y */
.suggestion-btn {
    padding: 6px 12px;
    background: white;
    border: 1px solid #ccc;
    border-radius: 20px;
    cursor: pointer;
    width: fit-content;
    max-width: 100%;
    align-self: flex-start;
    font-size: 14px;
    transition: background 0.3s;
	
}

.suggestion-btn:hover {
    background: #f0f0f0;
}
#chat-suggestions {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 8px;
    padding: 10px;
    background: #f9f9f9;
}

</style>

	 <!-- ICON m·ªü chat -->
<!-- <div id="chat-toggle" onclick="toggleChat(true)" style="
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 60px;
    height: 60px;
    background: #0084ff;
    border-radius: 50%;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 999;
">
    <span style="font-size: 28px; color: white;">üí¨</span>
</div> -->

<!-- Khung chat -->
<div id="chat-container" style="
    display: none;
    position: fixed;
    bottom: 120px; 
    right: 40px;
    width: 400px;
    background: white;
    border-radius: 15px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    z-index: 1000;
    overflow: hidden;
    font-family: Arial;
">
    <div style="background: #0084ff; color: white; padding: 10px; font-weight: bold;">
        Chat v·ªõi Shop
		<span onclick="toggleChat(false)" style="float:right; cursor:pointer;">‚úñ</span>
		<span onclick="reloadChat()" style="float:right; cursor:pointer; margin-right: 10px;">üîÑ</span>
        
    </div>
    <div id="chat-box" style="height: 450px; overflow-y: auto; padding: 10px; background: #f9f9f9;"></div>
    <!-- G·ª£i √Ω c√¢u h·ªèi -->
<div id="chat-suggestions" style="background: #f9f9f9; height: 130px;">

    <div onclick="handleSuggestion('N∆∞·ªõc hoa l∆∞u h∆∞∆°ng l√¢u')" class="suggestion-btn">N∆∞·ªõc hoa l∆∞u h∆∞∆°ng l√¢u</div>
    <div onclick="handleSuggestion('T√¥i mu·ªën mua n∆∞·ªõc hoa gi√° ph·∫£i chƒÉng')" class="suggestion-btn">T√¥i mu·ªën mua n∆∞·ªõc hoa gi√° ph·∫£i chƒÉng</div>
    <div onclick="handleSuggestion('N∆∞·ªõc hoa l∆∞u h∆∞∆°ng t·ª´ 6 ƒë·∫øn 8 ti·∫øng')" class="suggestion-btn">N∆∞·ªõc hoa l∆∞u h∆∞∆°ng t·ª´ 6 ƒë·∫øn 8 ti·∫øng</div>
</div>

	<div style="display: flex; border-top: 1px solid #ddd;">
        <input id="chat-input" type="text" placeholder="Nh·∫≠p tin nh·∫Øn..." style="flex: 1; padding: 10px; border: none; outline: none;">
        <button onclick="sendMessage()" style="background: #0084ff; color: white; border: none; padding: 10px 15px;">G·ª≠i</button>
    </div>
</div>

<script>
let isChatLoaded = false; //bi·∫øn ki·ªÉm so√°t load l·ªãch s·ª≠ ch·ªâ 1 l·∫ßn
let isFirstOpen = true;  // Th√™m bi·∫øn n√†y ƒë·ªÉ x√°c ƒë·ªãnh l·∫ßn m·ªü ƒë·∫ßu ti√™n

function toggleChat(show) {
    const chatContainer = document.getElementById("chat-container");
    const chatToggle = document.getElementById("chat-toggle");
    const suggestions = document.getElementById("chat-suggestions");

    if (show) {
    chatContainer.style.display = "block";
    chatToggle.style.display = "none";

    if (!isChatLoaded) {
        loadChatHistory(); // Ch·ªâ t·∫£i l·ªãch s·ª≠ 1 l·∫ßn
        isChatLoaded = true;
    }

    // Ch·ªâ hi·ªán g·ª£i √Ω n·∫øu l·∫ßn ƒë·∫ßu m·ªü v√† ch∆∞a c√≥ l·ªãch s·ª≠ chat
    const history = localStorage.getItem("chatHistory");
    if (isFirstOpen && (!history || JSON.parse(history).length === 0)) {
        suggestions.style.display = "block";
        isFirstOpen = false; // ƒê·∫£m b·∫£o ch·ªâ ch·∫°y 1 l·∫ßn
    } else {
        suggestions.style.display = "none";
    }

} else {
    chatContainer.style.display = "none";
    chatToggle.style.display = "flex";

	document.getElementById("chat-box").innerHTML = "";
        isChatLoaded = false;
}

}

function reloadChat() {
    const chatBox = document.getElementById("chat-box");
    chatBox.innerHTML = "";
    localStorage.removeItem("chatHistory");
    isChatLoaded = false; // cho ph√©p load l·∫°i khi chat m·ªü sau khi reload
	// Hi·ªán l·∫°i ph·∫ßn g·ª£i √Ω c√¢u h·ªèi
    document.getElementById("chat-suggestions").style.display = "block";
	
}

function appendMessage(sender, text, skipSave = false) {
    const chatBox = document.getElementById("chat-box");
    const message = document.createElement("div");

    message.className = sender === "B·∫°n" ? "user-message" : "bot-message";
    message.innerHTML = `<span class="sender">${sender}:</span> ${text}`;
    chatBox.appendChild(message);
    chatBox.scrollTop = chatBox.scrollHeight;

    // Tr√°nh l∆∞u tr√πng l·∫∑p khi load l·∫°i l·ªãch s·ª≠
    if (!skipSave) saveMessageToHistory(sender, text);
}

function sendMessage() {
    const input = document.getElementById("chat-input");
    const text = input.value.trim();
    if (text === "") return;

	// ·∫®n ph·∫ßn g·ª£i √Ω khi ng∆∞·ªùi d√πng t·ª± nh·∫≠p tin nh·∫Øn
    document.getElementById("chat-suggestions").style.display = "none";
	
    appendMessage("B·∫°n", text);
    input.value = "";

    fetch("http://127.0.0.1:5000/chat", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ message: text })
    })
    .then(response => response.json())
    .then(data => {
        appendMessage("Noir Essence", data.response);
    })
    .catch(error => {
        appendMessage("Noir Essence", "L·ªói khi k·∫øt n·ªëi ƒë·∫øn chatbot.");
        console.error("Error:", error);
    });
}

function saveMessageToHistory(sender, text) {
    let history = JSON.parse(localStorage.getItem("chatHistory")) || [];
    history.push({ sender, text });
    localStorage.setItem("chatHistory", JSON.stringify(history));
}

function loadChatHistory() {
    const history = JSON.parse(localStorage.getItem("chatHistory")) || [];
    for (const msg of history) {
        appendMessage(msg.sender, msg.text, true); //true ƒë·ªÉ kh√¥ng l∆∞u l·∫°i
    }
}

//goi y

function handleSuggestion(text) {
    appendMessage("B·∫°n", text);
    document.getElementById("chat-input").value = "";

    fetch("http://127.0.0.1:5000/chat", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ message: text })
    })
    .then(response => response.json())
    .then(data => {
        appendMessage("Noir Essence", data.response);
    })
    .catch(error => {
        appendMessage("Noir Essence", "L·ªói khi k·∫øt n·ªëi ƒë·∫øn chatbot.");
        console.error("Error:", error);
    });

    // ·∫®n ph·∫ßn g·ª£i √Ω sau khi ch·ªçn
    document.getElementById("chat-suggestions").style.display = "none";
}


</script>







<!-- <footer id="footer">
	<div class="footer-top">
		<div class="container">
			<div class="row">
				<div class="col-sm-2">
					<div class="companyinfo">
						<h2><span>Pesticide</span>Shop</h2>
						<p>Pesticide lu√¥n l√† ng∆∞·ªùi ƒë·ªìng h√†nh c·ªßa b·∫°n !</p>
					</div>
				</div>
				<div class="col-sm-7">
				

				
				</div>
				<div class="col-sm-3">
					<div class="address">
						<img src="images/home/map.png" alt="" />
						<p>505 S Atlantic Ave Virginia Beach, VA(Virginia)</p>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="footer-widget">
		<div class="container">
			<div class="row">
				<div class="col-sm-6">
					<div class="single-widget">
						<h2>D·ªãch v·ª•</h2>
						<ul class="nav nav-pills nav-stacked">
							<li><a href="<?php echo base_url('/')?>">Trang ch·ªß</a></li>
							<li><a href="<?php echo base_url('/')?>">S·∫£n ph·∫©m ƒëang gi·∫£m gi√°</a></li>
							<li><a href="<?php echo base_url('predict')?>">Xem ch·∫©n ƒëo√°n b·ªánh</a></li>
						</ul>
					</div>
				</div>
				<div class="col-sm-6">
					<div class="single-widget">
						<h2>ƒê·ªãa ch·ªâ</h2>
						<ul class="nav nav-pills nav-stacked">
							<li><a href="#">63C, ƒë∆∞·ªùng Tr·∫ßn Vƒ©nh Ki·∫øt, ph∆∞·ªùng An B√¨nh, qu·∫≠n Ninh Ki·ªÅu, TP C·∫ßn Th∆°</a></li>
							<li><a href="#">ƒê∆∞·ªùng d√¢y n√≥ng: 0345492751</a></li>
							
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="footer-bottom">
		<div class="container">
			<div class="row">
				<p class="pull-left">H·ªì H·ªØu Thu·∫≠n - SƒêT: 0345492751</p>
				<p class="pull-right">Ch·ªãu tr√°ch nhi·ªám b·ªüi: <span><a target="_blank"
							href="http://www.themeum.com">H·ªì H·ªØu Thu·∫≠n</a></span></p>
			</div>
		</div>
	</div>

</footer> -->
